{"ast":null,"code":"const camera = function () {\n  let width = 0;\n  let height = 0;\n\n  const createObjects = function () {\n    const video = document.createElement('video');\n    video.id = 'video';\n    video.width = width;\n    video.width = height;\n    video.autoplay = true;\n    document.body.appendChild(video);\n    const canvas = document.createElement('canvas');\n    canvas.id = 'canvas';\n    canvas.width = width;\n    canvas.width = height;\n    document.body.appendChild(canvas);\n  };\n\n  return {\n    video: null,\n    context: null,\n    canvas: null,\n    startCamera: function () {\n      let w = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 680;\n      let h = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 480;\n\n      if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n        width = w;\n        height = h;\n        createObjects();\n        this.video = document.getElementById('video');\n        this.canvas = document.getElementById('canvas');\n        this.context = this.canvas.getContext('2d');\n\n        (function (video) {\n          navigator.mediaDevices.getUserMedia({\n            video: true\n          }).then(function (stream) {\n            video.srcObject = stream;\n            video.play();\n          });\n        })(this.video);\n      }\n    },\n    takeSnapshot: function () {\n      this.context.drawImage(this.video, 0, 0, width, height);\n    }\n  };\n}();\n\nexport default camera;","map":{"version":3,"sources":["/Users/samuelsheldon/Documents/testCamera_PWA/my-app/src/camera.js"],"names":["camera","width","height","createObjects","video","document","createElement","id","autoplay","body","appendChild","canvas","context","startCamera","w","h","navigator","mediaDevices","getUserMedia","getElementById","getContext","then","stream","srcObject","play","takeSnapshot","drawImage"],"mappings":"AAAA,MAAMA,MAAM,GAAG,YAAY;AACvB,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAIC,MAAM,GAAG,CAAb;;AAEA,QAAMC,aAAa,GAAG,YAAY;AAG9B,UAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAd;AACAF,IAAAA,KAAK,CAACG,EAAN,GAAW,OAAX;AACAH,IAAAA,KAAK,CAACH,KAAN,GAAcA,KAAd;AACAG,IAAAA,KAAK,CAACH,KAAN,GAAcC,MAAd;AACAE,IAAAA,KAAK,CAACI,QAAN,GAAiB,IAAjB;AACAH,IAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,KAA1B;AAEA,UAAMO,MAAM,GAAGN,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAK,IAAAA,MAAM,CAACJ,EAAP,GAAY,QAAZ;AACAI,IAAAA,MAAM,CAACV,KAAP,GAAeA,KAAf;AACAU,IAAAA,MAAM,CAACV,KAAP,GAAeC,MAAf;AACAG,IAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BC,MAA1B;AACH,GAfD;;AAkBA,SAAO;AACHP,IAAAA,KAAK,EAAE,IADJ;AAEHQ,IAAAA,OAAO,EAAE,IAFN;AAGHD,IAAAA,MAAM,EAAE,IAHL;AAKHE,IAAAA,WAAW,EAAE,YAA4B;AAAA,UAAlBC,CAAkB,uEAAd,GAAc;AAAA,UAATC,CAAS,uEAAL,GAAK;;AACrC,UAAIC,SAAS,CAACC,YAAV,IAA0BD,SAAS,CAACC,YAAV,CAAuBC,YAArD,EAAmE;AAC/DjB,QAAAA,KAAK,GAAGa,CAAR;AACAZ,QAAAA,MAAM,GAAGa,CAAT;AAEAZ,QAAAA,aAAa;AAEb,aAAKC,KAAL,GAAaC,QAAQ,CAACc,cAAT,CAAwB,OAAxB,CAAb;AACA,aAAKR,MAAL,GAAcN,QAAQ,CAACc,cAAT,CAAwB,QAAxB,CAAd;AACA,aAAKP,OAAL,GAAe,KAAKD,MAAL,CAAYS,UAAZ,CAAuB,IAAvB,CAAf;;AAGA,SAAC,UAAUhB,KAAV,EAAiB;AACdY,UAAAA,SAAS,CAACC,YAAV,CAAuBC,YAAvB,CAAoC;AAACd,YAAAA,KAAK,EAAE;AAAR,WAApC,EAAmDiB,IAAnD,CAAwD,UAAUC,MAAV,EAAkB;AACtElB,YAAAA,KAAK,CAACmB,SAAN,GAAkBD,MAAlB;AACAlB,YAAAA,KAAK,CAACoB,IAAN;AACH,WAHD;AAIH,SALD,EAKG,KAAKpB,KALR;AAOH;AACJ,KAzBE;AA4BHqB,IAAAA,YAAY,EAAE,YAAY;AACtB,WAAKb,OAAL,CAAac,SAAb,CAAuB,KAAKtB,KAA5B,EAAmC,CAAnC,EAAsC,CAAtC,EAAyCH,KAAzC,EAAgDC,MAAhD;AACH;AA9BE,GAAP;AAiCC,CAvDU,EAAf;;AAyDI,eAAeF,MAAf","sourcesContent":["const camera = function () {\n    let width = 0;\n    let height = 0;\n    \n    const createObjects = function () {\n    \n    \n        const video = document.createElement('video');\n        video.id = 'video';\n        video.width = width;\n        video.width = height;\n        video.autoplay = true;\n        document.body.appendChild(video);\n    \n        const canvas = document.createElement('canvas');\n        canvas.id = 'canvas';\n        canvas.width = width;\n        canvas.width = height;\n        document.body.appendChild(canvas);\n    }\n    \n    \n    return {\n        video: null,\n        context: null,\n        canvas: null,\n    \n        startCamera: function (w = 680, h = 480) {\n            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n                width = w;\n                height = h;\n    \n                createObjects();\n    \n                this.video = document.getElementById('video');\n                this.canvas = document.getElementById('canvas');\n                this.context = this.canvas.getContext('2d');\n    \n    \n                (function (video) {\n                    navigator.mediaDevices.getUserMedia({video: true}).then(function (stream) {\n                        video.srcObject = stream;\n                        video.play();\n                    });\n                })(this.video)\n    \n            }\n        },\n    \n    \n        takeSnapshot: function () {\n            this.context.drawImage(this.video, 0, 0, width, height);\n        }\n    \n    }\n    }();\n    \n    export default camera;"]},"metadata":{},"sourceType":"module"}