[{"/Users/samuelsheldon/Documents/mobiledemo/src/Scan.jsx":"1"},{"size":2460,"mtime":1655462460370,"results":"2","hashOfConfig":"3"},{"filePath":"4","messages":"5","suppressedMessages":"6","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"7"},"4wn6h2","/Users/samuelsheldon/Documents/mobiledemo/src/Scan.jsx",["8"],[],"import React, { useEffect } from \"react\";\nimport Scanner from \"./Scanner\";\n\n\nclass Scan extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            message: null,\n            serialNumber: null,\n            setSerialNumber: null,\n            setMessage: null\n          }\n        this.context = {\n            actions: null,\n            setActions: null\n        }\n\n\n          function onReading({message, serialNumber}) {\n              this.setSerialNumber(serialNumber);\n              for (const record of message.records) {\n                  switch (record.recordType) {\n                      case \"text\":\n                          const textDecoder = new TextDecoder(record.encoding);\n                          console.log(\"Message\", textDecoder.decode(record.data));\n                          this.setMessage(textDecoder.decode(record.data));\n                          break;\n                     case \"url\":\n                         break;\n                     default:\n                  }\n              }\n\n          }\n\n          this.componentDidMount(\n          async function Scan() {\n              if ('NDEFReader' in window) {\n                  try {\n                      const ndef = new window.NDEFReader();\n                      await ndef.scan();\n\n                      console.log(\"Scan started successfullly\");\n                      ndef.onreadingerror = () => {\n                          console.log(\"Cannot read data from the NFC tag. Try another one?\");\n                      };\n\n                      ndef.onReading = event => {\n                          console.log(\"NDEF message read.\");\n                          onReading(event);\n                          this.setActions({\n                              scan: 'scanned',\n                              write: null\n                          }); \n                      };\n                  } catch(error) {\n                      console.log(`Error! Scan failed start: ${error}`);\n                  }\n              }\n              useEffect(() => {\n                Scan();\n            }, [Scan]);\n\n        })\nthis.render(\n    \n            <>\n            {this.actions.scan === 'scanned' ?  \n            <div>\n                <p>Serial Number: {this.serialNumber}</p>\n                <p>Message: {this.message}</p>\n            </div>\n            : <Scanner status={this.actions.scan}></Scanner> }\n        </>\n);\n    }\n\n\n\n}\n\nexport default Scan;",{"ruleId":"9","severity":1,"message":"10","line":63,"column":16,"nodeType":"11","endLine":63,"endColumn":22,"suggestions":"12"},"react-hooks/exhaustive-deps","React Hook useEffect has an unnecessary dependency: 'Scan'. Either exclude it or remove the dependency array. Outer scope values like 'Scan' aren't valid dependencies because mutating them doesn't re-render the component.","ArrayExpression",["13"],{"desc":"14","fix":"15"},"Update the dependencies array to be: []",{"range":"16","text":"17"},[2105,2111],"[]"]